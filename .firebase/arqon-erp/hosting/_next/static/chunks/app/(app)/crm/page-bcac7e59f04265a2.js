(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[872],{5728:(e,a,l)=>{"use strict";l.d(a,{j:()=>d,db:()=>o});var s=l(2078),r=l(2553),t=l(9708);let n=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)({apiKey:"AIzaSyBn_tEKXbH1MODTU-ZX6wI7H6gcrIib0RM",authDomain:"arqon-erp.firebaseapp.com",projectId:"arqon-erp",storageBucket:"arqon-erp.appspot.com",messagingSenderId:"100563303537",appId:"1:100563303537:web:361ed1c0989e4868c16fd0"}),d=(0,r.xI)(n),o=(0,t.aU)(n)},5741:(e,a,l)=>{Promise.resolve().then(l.bind(l,9117))},9117:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>o});var s=l(5155),r=l(2115),t=l(5728),n=l(9708);let d=["nuevo","contactado","propuesta","ganado","perdido"];function o(){let[e,a]=(0,r.useState)([]),[l,o]=(0,r.useState)({nombre:"",empresa:"",email:"",telefono:"",nota:""});async function c(e){e.preventDefault(),await (0,n.gS)((0,n.rJ)(t.db,"leads"),{...l,etapa:"nuevo",createdAt:(0,n.O5)()}),o({nombre:"",empresa:"",email:"",telefono:"",nota:""})}async function i(e,a){await (0,n.mZ)((0,n.H9)(t.db,"leads",e),{etapa:a})}return(0,r.useEffect)(()=>{let e=(0,n.P)((0,n.rJ)(t.db,"leads"),(0,n.My)("createdAt","desc")),l=(0,n.aQ)(e,e=>{a(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>l()},[]),(0,s.jsxs)("main",{className:"min-h-screen p-6 bg-gray-50",children:[(0,s.jsx)("header",{className:"mb-4 flex flex-wrap items-center gap-2",children:(0,s.jsx)("a",{href:"/panel",className:"rounded-lg border px-3 py-1",children:"â† Panel"})}),(0,s.jsxs)("div",{className:"max-w-6xl mx-auto grid gap-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold",children:"CRM"}),(0,s.jsxs)("section",{className:"bg-white p-4 rounded-xl shadow",children:[(0,s.jsx)("h2",{className:"text-lg font-medium mb-3",children:"Nuevo lead"}),(0,s.jsxs)("form",{onSubmit:c,className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-6",children:[(0,s.jsx)("input",{className:"border rounded-lg p-2 lg:col-span-2",placeholder:"Nombre *",value:l.nombre,onChange:e=>o({...l,nombre:e.target.value}),required:!0}),(0,s.jsx)("input",{className:"border rounded-lg p-2",placeholder:"Empresa",value:l.empresa,onChange:e=>o({...l,empresa:e.target.value})}),(0,s.jsx)("input",{className:"border rounded-lg p-2",type:"email",placeholder:"Email",value:l.email,onChange:e=>o({...l,email:e.target.value})}),(0,s.jsx)("input",{className:"border rounded-lg p-2",placeholder:"Tel\xe9fono",value:l.telefono,onChange:e=>o({...l,telefono:e.target.value})}),(0,s.jsx)("input",{className:"border rounded-lg p-2 lg:col-span-2",placeholder:"Nota",value:l.nota,onChange:e=>o({...l,nota:e.target.value})}),(0,s.jsx)("button",{className:"rounded-lg bg-black text-white px-4",children:"Guardar"})]})]}),(0,s.jsx)("section",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4",children:d.map(a=>(0,s.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow",children:[(0,s.jsx)("h3",{className:"font-medium capitalize mb-2",children:a}),(0,s.jsxs)("ul",{className:"space-y-2",children:[e.filter(e=>e.etapa===a).map(e=>(0,s.jsxs)("li",{className:"border rounded-lg p-2",children:[(0,s.jsx)("p",{className:"font-medium",children:e.nombre}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:[e.empresa,e.email,e.telefono].filter(Boolean).join(" \xb7 ")}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:e.nota}),(0,s.jsx)("div",{className:"mt-2 flex flex-wrap gap-1",children:d.filter(e=>e!==a).map(a=>(0,s.jsxs)("button",{className:"rounded border px-2 text-xs capitalize",onClick:()=>i(e.id,a),children:["â†’ ",a]},a))})]},e.id)),0===e.filter(e=>e.etapa===a).length&&(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Sin leads."})]})]},a))})]})]})}}},e=>{e.O(0,[9135,3965,7240,8441,1255,7358],()=>e(e.s=5741)),_N_E=e.O()}]);
