(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1713],{3771:(e,a,r)=>{Promise.resolve().then(r.bind(r,6493))},5728:(e,a,r)=>{"use strict";r.d(a,{j:()=>d,db:()=>o});var t=r(2078),n=r(2553),s=r(9708);let l=(0,t.Dk)().length?(0,t.Sx)():(0,t.Wp)({apiKey:"AIzaSyBn_tEKXbH1MODTU-ZX6wI7H6gcrIib0RM",authDomain:"arqon-erp.firebaseapp.com",projectId:"arqon-erp",storageBucket:"arqon-erp.appspot.com",messagingSenderId:"100563303537",appId:"1:100563303537:web:361ed1c0989e4868c16fd0"}),d=(0,n.xI)(l),o=(0,s.aU)(l)},6493:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>d});var t=r(5155),n=r(2115),s=r(5728);let l=(0,n.createContext)({orgId:null,orgName:null,setOrg:()=>{},clearOrg:()=>{},ready:!1});function d(){let{orgId:e,orgName:a}=(0,n.useContext)(l),[r,d]=(0,n.useState)(""),[o,c]=(0,n.useState)("");async function i(){let e=s.j.currentUser;if(!e)return void d("No hay usuario logueado");d(await e.getIdToken(!0))}async function u(){c("Llamandoâ€¦");try{let a=await fetch("/api/_debug/tenant?orgId=".concat(encodeURIComponent(e||"")),{headers:{Authorization:"Bearer ".concat(r),"x-org-id":e||""}}),t=await a.json();c(JSON.stringify(t,null,2))}catch(e){c(e.message||"Error llamando al endpoint")}}return(0,n.useEffect)(()=>{i()},[]),(0,t.jsxs)("main",{className:"max-w-3xl mx-auto space-y-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"Debug \xb7 Token & Tenancy"}),(0,t.jsx)("div",{className:"text-sm text-neutral-300",children:(0,t.jsxs)("div",{children:["Org actual: ",(0,t.jsx)("b",{children:a||"(sin org)"})," \xb7 ",(0,t.jsx)("code",{children:e||"â€”"})]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("button",{className:"rounded-md border border-neutral-700 px-3 py-2",onClick:i,children:"Refrescar token"}),(0,t.jsx)("textarea",{className:"w-full h-40 rounded-md bg-neutral-950 p-3 text-xs",value:r,readOnly:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("button",{className:"rounded-md bg-emerald-600 px-4 py-2",onClick:u,disabled:!r||!e,children:"Probar /api/_debug/tenant"}),(0,t.jsx)("pre",{className:"w-full rounded-md bg-neutral-950 p-3 text-xs overflow-auto",children:o||"Sin resultadosâ€¦"})]})]})}}},e=>{e.O(0,[9135,3965,7240,8441,1255,7358],()=>e(e.s=3771)),_N_E=e.O()}]);
