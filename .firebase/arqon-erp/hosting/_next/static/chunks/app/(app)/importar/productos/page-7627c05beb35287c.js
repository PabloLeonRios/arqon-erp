(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6972],{2540:(e,t,s)=>{Promise.resolve().then(s.bind(s,4127))},4127:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(5155),i=s(2115),a=s(5728),c=s(9708),d=s(4927);function n(e){return null!=e&&isFinite(Number(e))?"$".concat(Number(e).toFixed(2)):"â€”"}function l(){let[e,t]=(0,i.useState)(""),[s,l]=(0,i.useState)([]);(0,i.useEffect)(()=>{let e=(0,c.P)((0,c.rJ)(a.db,"productos"),(0,c.My)("updatedAt","desc"),(0,c.AB)(300)),t=(0,c.aQ)(e,e=>{l(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>t()},[]);let o=(0,i.useMemo)(()=>{let t=e.trim().toLowerCase();return t?s.filter(e=>(e.descripcion||"").toLowerCase().includes(t)||(e.codigo||"").toLowerCase().includes(t)||(e.categoria||"").toLowerCase().includes(t)):s},[s,e]);return(0,r.jsxs)("main",{children:[(0,r.jsx)(d.A,{title:"Productos",subtitle:"Precio fuente â†’ bonif â†’ costo neto â†’ markup â†’ redondeo",actions:(0,r.jsx)("a",{href:"/importar/precios",className:"btn-outline",children:"+ Importar precios"})}),(0,r.jsxs)("div",{className:"container mt-6",children:[(0,r.jsx)("div",{className:"card p-4 mb-4",children:(0,r.jsx)("input",{className:"border rounded-lg p-2 w-full",placeholder:"Buscar por descripci\xf3n, c\xf3digo o categor\xedaâ€¦",value:e,onChange:e=>t(e.target.value)})}),(0,r.jsx)("div",{className:"card p-4 overflow-x-auto",children:(0,r.jsxs)("table",{className:"table table-striped table-hover",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Descripci\xf3n"}),(0,r.jsx)("th",{children:"C\xf3digo"}),(0,r.jsx)("th",{children:"Categor\xeda"}),(0,r.jsx)("th",{className:"text-right",children:"Precio fuente"}),(0,r.jsx)("th",{className:"text-right",children:"Bonif"}),(0,r.jsx)("th",{className:"text-right",children:"Costo neto"}),(0,r.jsx)("th",{className:"text-right",children:"Markup"}),(0,r.jsx)("th",{className:"text-right",children:"Precio final"}),(0,r.jsx)("th",{children:"Redondeo"}),(0,r.jsx)("th",{children:"Lista"})]})}),(0,r.jsxs)("tbody",{children:[o.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.descripcion}),(0,r.jsx)("td",{children:e.codigo||"â€”"}),(0,r.jsx)("td",{children:e.categoria||"â€”"}),(0,r.jsx)("td",{className:"text-right",children:n(e.precio_base)}),(0,r.jsx)("td",{className:"text-right",children:e.bonifs&&e.bonifs.length?e.bonifs.join("+")+"%":"â€”"}),(0,r.jsx)("td",{className:"text-right",children:n(e.costo_neto)}),(0,r.jsx)("td",{className:"text-right",children:"number"==typeof e.markup?"".concat(e.markup.toFixed(2),"%"):"â€”"}),(0,r.jsx)("td",{className:"text-right",children:n(e.precio)}),(0,r.jsx)("td",{children:e.roundMode||"â€”"}),(0,r.jsx)("td",{children:e.listaNombre||"â€”"})]},e.id)),0===o.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:10,children:(0,r.jsxs)("div",{className:"empty",children:[(0,r.jsx)("h3",{children:"Sin productos"}),(0,r.jsx)("p",{children:"Import\xe1 una lista para ver resultados."})]})})})]})]})})]})]})}},4927:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(5155);function i(e){let{title:t,subtitle:s,actions:i}=e;return(0,r.jsx)("header",{className:"topbar",children:(0,r.jsxs)("div",{className:"topbar-inner",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-semibold",children:t}),s&&(0,r.jsx)("p",{className:"text-sm text-muted",children:s})]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:i})]})})}s(2115)},5728:(e,t,s)=>{"use strict";s.d(t,{j:()=>d,db:()=>n});var r=s(2078),i=s(2553),a=s(9708);let c=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyBn_tEKXbH1MODTU-ZX6wI7H6gcrIib0RM",authDomain:"arqon-erp.firebaseapp.com",projectId:"arqon-erp",storageBucket:"arqon-erp.appspot.com",messagingSenderId:"100563303537",appId:"1:100563303537:web:361ed1c0989e4868c16fd0"}),d=(0,i.xI)(c),n=(0,a.aU)(c)}},e=>{e.O(0,[9135,3965,7240,8441,1255,7358],()=>e(e.s=2540)),_N_E=e.O()}]);
